@PACKAGE_INIT@
set(GHEX_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR})
list(APPEND CMAKE_MODULE_PATH ${GHEX_MODULE_PATH})
include(CMakeFindDependencyMacro)
find_dependency(MPI)
find_dependency(GridTools @GridTools_VERSION@)

set(GHEX_USE_PMIX OFF)

if (@GHEX_USE_UCP@)
    set(GHEX_USE_UCP ON)
    find_dependency(UCP)
    if (@GHEX_USE_PMIX@)
        set(GHEX_USE_PMIX ON)
        find_dependency(PMIx)
    endif()
else()
    set(GHEX_USE_UCP OFF)
endif()

if (@GHEX_USE_XPMEM@)
    set(GHEX_USE_XPMEM ON)
    find_dependency(XPMEM)
else()
    set(GHEX_USE_XPMEM OFF)
endif()

if (@GHEX_USE_LIBFABRIC@)
    set(GHEX_USE_LIBFABRIC ON)
    find_dependency(LIBFABRIC)
    if (@GHEX_USE_PMIX@)
        set(GHEX_USE_PMIX ON)
        find_dependency(PMIx)
    endif()
else()
    set(GHEX_USE_LIBFABRIC OFF)
endif()

if (@GHEX_ENABLE_ATLAS_BINDINGS@)
    set(GHEX_ENABLE_ATLAS_BINDINGS ON)
    find_dependency(eckit)
    find_dependency(Atlas)
else()
    set(GHEX_ENABLE_ATLAS_BINDINGS OFF)
endif()
include(${CMAKE_CURRENT_LIST_DIR}/GHEX-targets.cmake)
